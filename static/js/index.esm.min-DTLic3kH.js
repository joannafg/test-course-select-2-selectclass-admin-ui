import{l as e,p as t,d as n,Z as r,ad as i,a6 as s,aa as o,S as a,y as _,B as u,K as l,W as c,J as d,f,at as v}from"./index-BAyZi_co.js";import{dC as h,b0 as p}from"./echarts-BUOH3neG.js";function g(n){const r=e(),i=t((()=>"dark"===r.theme));return{chartOption:t((()=>n(i.value)))}}var m=null;var z=null;function b(e,t){void 0===t&&(t={});var n=document.createElement(e);return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function w(e,t,n){return(window.getComputedStyle(e,null)||{display:"none"})[t]}function y(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};for(var t=e;t!==document;){if("none"===w(t,"display"))return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var O=0,E=null;function x(e,t){var n,r;if(e.__resize_mutation_handler__||(e.__resize_mutation_handler__=C.bind(e)),!e.__resize_listeners__)if(e.__resize_listeners__=[],window.ResizeObserver){var i=e.offsetWidth,s=e.offsetHeight,o=new ResizeObserver((function(){(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==i||e.offsetHeight!==s))&&j(e)})),a=y(e),_=a.detached,u=a.rendered;e.__resize_observer_triggered__=!1===_&&!1===u,e.__resize_observer__=o,o.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){j(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(O||(n='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',(r=document.createElement("style")).styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),(document.querySelector("head")||document.body).appendChild(r),E=r),function(e){var t=w(e,"position");t&&"static"!==t||(e.style.position="relative");e.__resize_old_position__=t,e.__resize_last__={};var n=b("div",{className:"resize-triggers"}),r=b("div",{className:"resize-expand-trigger"}),i=b("div"),s=b("div",{className:"resize-contract-trigger"});r.appendChild(i),n.appendChild(r),n.appendChild(s),e.appendChild(n),e.__resize_triggers__={triggers:n,expand:r,expandChild:i,contract:s},A(e),e.addEventListener("scroll",L,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}(e),e.__resize_rendered__=y(e).rendered,window.MutationObserver){var l=new MutationObserver(e.__resize_mutation_handler__);l.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=l}e.__resize_listeners__.push(t),O++}function C(){var e=y(this),t=e.rendered,n=e.detached;t!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(A(this),this.addEventListener("scroll",L,!0)),this.__resize_rendered__=t,j(this))}function L(){var e,t,n=this;A(this),this.__resize_raf__&&(e=this.__resize_raf__,z||(z=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),z(e)),this.__resize_raf__=(t=function(){var e,t,r,i,s,o,a=(t=(e=n).__resize_last__,r=t.width,i=t.height,s=e.offsetWidth,o=e.offsetHeight,s!==r||o!==i?{width:s,height:o}:null);a&&(n.__resize_last__=a,j(n))},m||(m=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),m(t))}function j(e){e&&e.__resize_listeners__&&e.__resize_listeners__.forEach((function(t){t.call(e,e)}))}function A(e){var t=e.__resize_triggers__,n=t.expand,r=t.expandChild,i=t.contract,s=i.scrollWidth,o=i.scrollHeight,a=n.offsetWidth,_=n.offsetHeight,u=n.scrollWidth,l=n.scrollHeight;i.scrollLeft=s,i.scrollTop=o,r.style.width=a+1+"px",r.style.height=_+1+"px",n.scrollLeft=u,n.scrollTop=l}var S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},S.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var T=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];var k={autoresize:[Boolean,Object]},H=/^on[^a-z]/,D=function(e){return H.test(e)};function M(e,t){var n=d(e)?f(e):e;return n&&"object"==typeof n&&"value"in n?n.value||t:n||t}var W={loading:Boolean,loadingOptions:Object},F=null,N="x-vue-echarts",R=[],U=[];!function(e,t){if(e&&"undefined"!=typeof document){var n,r=!0===t.prepend?"prepend":"append",i=!0===t.singleTag,s="string"==typeof t.container?document.querySelector(t.container):document.getElementsByTagName("head")[0];if(i){var o=R.indexOf(s);-1===o&&(o=R.push(s)-1,U[o]={}),n=U[o]&&U[o][r]?U[o][r]:U[o][r]=a()}else n=a();65279===e.charCodeAt(0)&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function a(){var e=document.createElement("style");if(e.setAttribute("type","text/css"),t.attributes)for(var n=Object.keys(t.attributes),i=0;i<n.length;i++)e.setAttribute(n[i],t.attributes[n[i]]);var o="prepend"===r?"afterbegin":"beforeend";return s.insertAdjacentElement(o,e),e}}("x-vue-echarts{display:flex;flex-direction:column;width:100%;height:100%;min-width:0}\n.vue-echarts-inner{flex-grow:1;min-width:0;width:auto!important;height:auto!important}\n",{});var q=function(){if(null!=F)return F;if("undefined"==typeof HTMLElement||"undefined"==typeof customElements)return F=!1;try{new Function("tag","class EChartsElement extends HTMLElement {\n  __dispose = null;\n\n  disconnectedCallback() {\n    if (this.__dispose) {\n      this.__dispose();\n      this.__dispose = null;\n    }\n  }\n}\n\nif (customElements.get(tag) == null) {\n  customElements.define(tag, EChartsElement);\n}\n")(N)}catch(e){return F=!1}return F=!0}(),B=/(^&?~?!?)native:/,P=n({name:"echarts",props:S(S({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},k),W),emits:{},inheritAttrs:!1,setup:function(e,n){var r=n.attrs,d=i(),f=i(),g=i(),m=i(),z=v("ecTheme",null),b=v("ecInitOptions",null),w=v("ecUpdateOptions",null),y=s(e),C=y.autoresize,j=y.manualUpdate,A=y.loading,k=y.loadingOptions,H=t((function(){return m.value||e.option||null})),W=t((function(){return e.theme||M(z,{})})),F=t((function(){return e.initOptions||M(b,{})})),N=t((function(){return e.updateOptions||M(w,{})})),R=t((function(){return function(e){var t={};for(var n in e)D(n)||(t[n]=e[n]);return t}(r)})),U={},P=o().proxy.$listeners,Z={};function $(t){if(f.value){var n=g.value=h(f.value,W.value,F.value);e.group&&(n.group=e.group),Object.keys(Z).forEach((function(e){var t=Z[e];if(t){var r=e.toLowerCase();"~"===r.charAt(0)&&(r=r.substring(1),t.__once__=!0);var i=n;if(0===r.indexOf("zr:")&&(i=n.getZr(),r=r.substring(3)),t.__once__){delete t.__once__;var s=t;t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];s.apply(void 0,e),i.off(r,t)}}i.on(r,t)}})),C.value?c((function(){n&&!n.isDisposed()&&n.resize(),r()})):r()}function r(){var e=t||H.value;e&&n.setOption(e,N.value)}}function I(){g.value&&(g.value.dispose(),g.value=void 0)}P?Object.keys(P).forEach((function(e){B.test(e)?U[e.replace(B,"$1")]=P[e]:Z[e]=P[e]})):Object.keys(r).filter((function(e){return D(e)})).forEach((function(e){var t=e.charAt(2).toLowerCase()+e.slice(3);if(0!==t.indexOf("native:"))"Once"===t.substring(t.length-4)&&(t="~".concat(t.substring(0,t.length-4))),Z[t]=r[e];else{var n="on".concat(t.charAt(7).toUpperCase()).concat(t.slice(8));U[n]=r[e]}}));var J=null;a(j,(function(t){"function"==typeof J&&(J(),J=null),t||(J=a((function(){return e.option}),(function(e,t){e&&(g.value?g.value.setOption(e,S({notMerge:e!==t},N.value)):$())}),{deep:!0}))}),{immediate:!0}),a([W,F],(function(){I(),$()}),{deep:!0}),_((function(){e.group&&g.value&&(g.value.group=e.group)}));var K,G,Q,V,X,Y=function(e){return t=Object.create(null),T.forEach((function(n){t[n]=function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[t].apply(e.value,n)}}(n)})),t;var t}(g);return K=g,G=A,Q=k,V=v("ecLoadingOptions",{}),X=t((function(){return S(S({},M(V,{})),null==Q?void 0:Q.value)})),_((function(){var e=K.value;e&&(G.value?e.showLoading(X.value):e.hideLoading())})),function(e,t,n){var r=null;a([n,e,t],(function(e,t,n){var i=e[0],s=e[1],o=e[2];if(i&&s&&o){var a=!0===o?{}:o,_=a.throttle,u=void 0===_?100:_,l=a.onResize,c=function(){s.resize(),null==l||l()};r=u?p(c,u):c,x(i,r)}n((function(){i&&r&&function(e,t){var n=e.__resize_listeners__;if(n){if(t&&n.splice(n.indexOf(t),1),!n.length||!t){if(e.detachEvent&&e.removeEventListener)return e.detachEvent("onresize",e.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",L),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}! --O&&E&&E.parentNode.removeChild(E)}}(i,r)}))}))}(g,C,f),u((function(){$()})),l((function(){q&&d.value?d.value.__dispose=I:I()})),S({chart:g,root:d,inner:f,setOption:function(t,n){e.manualUpdate&&(m.value=t),g.value?g.value.setOption(t,n||{}):$(t)},nonEventAttrs:R,nativeListeners:U},Y)},render:function(){var e=S(S({},this.nonEventAttrs),this.nativeListeners);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",r(N,e,[r("div",{ref:"inner",class:"vue-echarts-inner"})])}});export{P as H,g as u};
