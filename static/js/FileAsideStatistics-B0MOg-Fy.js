import{u as a,H as t}from"./index.esm.min-DTLic3kH.js";import{a as e}from"./file-DhkTWeFG.js";import{d as s,r as i,B as l,b as o,h as r,e as n,w as u,a as c,f as m,aK as p,C as d,t as v,o as f,x as h}from"./index-BAyZi_co.js";import{g as b}from"./file-DFqER96z.js";import{F as y,a5 as z,a4 as x,a6 as g,a3 as w,a2 as j}from"./install-BUeZnu9M.js";import"./echarts-BUOH3neG.js";const _={class:"percent"},F={key:0},C=h(s({__name:"FileAsideStatistics",setup(s){y([z,x,g,w,j]);const h=i({type:"",size:0,number:0,unit:"",data:[]}),C=i([]),E={color:"#5856D6","font-size":"18px"},{chartOption:O}=a((()=>({grid:{left:0,right:0,top:0,bottom:0},legend:{show:!0,bottom:-5,icon:"circle",itemWidth:6,itemHeight:6,textStyle:{color:"#4E5969"}},tooltip:{show:!0,formatter:a=>`total:${a.value}<br>${a.data.size}`},series:[{type:"pie",radius:["40%","70%"],avoidLabelOverlap:!0,label:{show:!1,position:"center"},data:C.value}]}))),S=i(!1);return l((()=>{(async()=>{var a;try{S.value=!0,C.value=[];const{data:t}=await b(),s=p(t.size).split(" ");h.value={type:"",size:Number.parseFloat(s[0]),number:t.number??0,unit:s[1],data:[]},null==(a=t.data)||a.forEach((a=>{const t=e.find((t=>t.value===a.type));C.value.unshift({name:t?t.name:"",value:a.number,size:p(a.size)})}))}finally{S.value=!1}})()})),(a,e)=>{const s=c("a-divider"),i=c("a-statistic"),l=c("a-space");return f(),o("section",_,[r(l,{class:"statistic-space",align:"center",size:"medium",fill:""},{split:u((()=>[r(s,{direction:"vertical"})])),default:u((()=>[r(i,{class:"statistic-item",title:"storage size",value:m(h).size,"value-style":E},{suffix:u((()=>[d("Â "+v(m(h).unit),1)])),_:1},8,["value"]),r(i,{class:"statistic-item",title:"number",value:m(h).number,"value-style":E},null,8,["value"])])),_:1}),m(C).length>0?(f(),o("div",F,[r(s),r(m(t),{option:m(O),autoresize:"",style:{height:"120px",width:"150px"}},null,8,["option"])])):n("",!0)])}}}),[["__scopeId","data-v-0b3cc043"]]);export{C as default};
