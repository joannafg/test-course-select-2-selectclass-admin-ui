import{d as e,L as s,j as a,r as u,Y as t,c as r,w as n,f as i,k as l,M as o,a as c,g as p,o as f,x as d}from"./index-BAyZi_co.js";import{b as h}from"./user-center-DOjaikc1.js";import{u as g}from"./tabs-D4ctZ4n_.js";const v=d(e({__name:"index",setup(e){const d=a(),v=l(),y=s(),m=g(),q=d.query.source,_=u(!1);return t()?(()=>{if(_.value)return;_.value=!0;const{...e}=v.currentRoute.value.query;h(q,e).then((()=>{v.push({path:"/setting/profile",query:{...e}}),o.success("binding successfully")})).catch((()=>{v.push({path:"/setting/profile",query:{...e}})})).finally((()=>{_.value=!1}))})():(()=>{if(_.value)return;_.value=!0;const{redirect:e,...s}=v.currentRoute.value.query;y.socialLogin(q,s).then((()=>{m.reset(),v.push({path:e||"/",query:{...s}}),o.success("welcome to use")})).catch((()=>{v.push({name:"Login",query:{...s}})})).finally((()=>{_.value=!1}))})(),(e,s)=>{const a=c("a-spin");return f(),r(a,{loading:i(_),tip:i(t)()?"binding...":"login..."},{default:n((()=>s[0]||(s[0]=[p("div",null,null,-1)]))),_:1},8,["loading","tip"])}}}),[["__scopeId","data-v-136fc903"]]);export{v as default};
