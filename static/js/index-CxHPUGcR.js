import{_ as e}from"./index-B7Sos0mo.js";import{_ as a}from"./GiCellTag.vue_vue_type_script_setup_true_lang-BFrLDIrR.js";import{_ as t}from"./CourseScheduleAddModal.vue_vue_type_script_setup_true_lang-fqvQ6_ua.js";import{_ as l}from"./CourseScheduleDetailDrawer.vue_vue_type_script_setup_true_lang-IOK-ih86.js";import{l as s,d as o,e as d}from"./courseSchedule-C4KTkUU1.js";import{d as r,A as i,r as c,a1 as u,b as n,h as m,w as p,f as h,a as _,G as f,c as v,C as x,a0 as S,o as y}from"./index-BAyZi_co.js";import{u as k}from"./useTable-DUTUCT70.js";import{u as V}from"./useDownload-C-k5xGNE.js";import{u as g}from"./useDict-ConFaTXJ.js";import{h as I}from"./has-CF2CDZHh.js";import"./index-FaVgdj3V.js";import"./index-C4tdC7PH.js";import"./install-BUeZnu9M.js";import"./echarts-BUOH3neG.js";import"./GiForm-BWZRNfN-.js";import"./index.vue_vue_type_script_setup_true_lang-Dekw0iDL.js";import"./useResetReactive-NMdkdCz2.js";import"./teacher-AO1vI7zE.js";import"./course-DukAjqW8.js";import"./useBreakpoint-C2fvcUp5.js";const j={class:"gi_table_page"},w=r({name:"CourseSchedule",__name:"index",setup(r){const{course_schedule_status:w}=g("course_schedule_status"),C=i({courseId:void 0,teacherId:void 0,semester:void 0,classroom:void 0,dayOfWeek:void 0,startTime:void 0,endTime:void 0,maxStudent:void 0,selected:void 0,status:void 0,sort:["id,desc"]}),{tableData:T,loading:b,pagination:D,search:N,handleDelete:U}=k((e=>s({...C,...e})),{immediate:!0}),Y=c([{title:"course schedule ID",dataIndex:"id",slotName:"id"},{title:"course",dataIndex:"courseId",slotName:"courseId"},{title:"teacher",dataIndex:"teacherId",slotName:"teacherId"},{title:"semester",dataIndex:"semester",slotName:"semester"},{title:"classroom",dataIndex:"classroom",slotName:"classroom"},{title:"day of week",dataIndex:"dayOfWeek",slotName:"dayOfWeek"},{title:"start time",dataIndex:"startTime",slotName:"startTime"},{title:"end time",dataIndex:"endTime",slotName:"endTime"},{title:"max student",dataIndex:"maxStudent",slotName:"maxStudent"},{title:"selected",dataIndex:"selected",slotName:"selected"},{title:"status",dataIndex:"status",slotName:"status"},{title:"action",dataIndex:"action",slotName:"action",width:160,align:"center",fixed:u()?void 0:"right",show:I.hasPermOr(["selectclass:courseSchedule:detail","selectclass:courseSchedule:update","selectclass:courseSchedule:delete"])}]),O=()=>{C.courseId=void 0,C.teacherId=void 0,C.semester=void 0,C.classroom=void 0,C.dayOfWeek=void 0,C.startTime=void 0,C.endTime=void 0,C.maxStudent=void 0,C.selected=void 0,C.status=void 0,N()},W=()=>{V((()=>d(C)))},M=c(),R=()=>{var e;null==(e=M.value)||e.onAdd()},A=c();return(s,d)=>{const r=_("a-input-search"),i=_("a-date-picker"),c=_("a-select"),u=_("icon-refresh"),k=_("a-button"),V=_("icon-plus"),g=_("icon-download"),I=a,H=_("a-link"),G=_("a-space"),B=e,q=S("permission");return y(),n("div",j,[m(B,{title:"course schedule management","row-key":"id",data:h(T),columns:h(Y),loading:h(b),scroll:{x:"100%",y:"100%",minWidth:1e3},pagination:h(D),"disabled-tools":["size"],"disabled-column-keys":["name"],onRefresh:h(N)},{"toolbar-left":p((()=>[m(r,{modelValue:h(C).semester,"onUpdate:modelValue":d[0]||(d[0]=e=>h(C).semester=e),placeholder:"please enter the semester","allow-clear":"",onSearch:h(N)},null,8,["modelValue","onSearch"]),m(r,{modelValue:h(C).classroom,"onUpdate:modelValue":d[1]||(d[1]=e=>h(C).classroom=e),placeholder:"please enter the classroom","allow-clear":"",onSearch:h(N)},null,8,["modelValue","onSearch"]),m(r,{modelValue:h(C).dayOfWeek,"onUpdate:modelValue":d[2]||(d[2]=e=>h(C).dayOfWeek=e),placeholder:"please enter the day of week","allow-clear":"",onSearch:h(N)},null,8,["modelValue","onSearch"]),m(i,{modelValue:h(C).startTime,"onUpdate:modelValue":d[3]||(d[3]=e=>h(C).startTime=e),placeholder:"please select the start time","show-time":"",format:"YYYY-MM-DD HH:mm:ss",style:{height:"32px"}},null,8,["modelValue"]),m(i,{modelValue:h(C).endTime,"onUpdate:modelValue":d[4]||(d[4]=e=>h(C).endTime=e),placeholder:"please select the end time","show-time":"",format:"YYYY-MM-DD HH:mm:ss",style:{height:"32px"}},null,8,["modelValue"]),m(r,{modelValue:h(C).maxStudent,"onUpdate:modelValue":d[5]||(d[5]=e=>h(C).maxStudent=e),placeholder:"please enter the max student","allow-clear":"",onSearch:h(N)},null,8,["modelValue","onSearch"]),m(r,{modelValue:h(C).selected,"onUpdate:modelValue":d[6]||(d[6]=e=>h(C).selected=e),placeholder:"please enter the selected","allow-clear":"",onSearch:h(N)},null,8,["modelValue","onSearch"]),m(c,{modelValue:h(C).status,"onUpdate:modelValue":d[7]||(d[7]=e=>h(C).status=e),options:h(w),placeholder:"please select the status","allow-clear":"",style:{width:"150px"},onChange:h(N)},null,8,["modelValue","options","onChange"]),m(k,{onClick:O},{icon:p((()=>[m(u)])),default:p((()=>d[8]||(d[8]=[x("reset")]))),_:1})])),"toolbar-right":p((()=>[f((y(),v(k,{type:"primary",onClick:R},{icon:p((()=>[m(V)])),default:p((()=>d[9]||(d[9]=[x("add")]))),_:1})),[[q,["selectclass:courseSchedule:add"]]]),f((y(),v(k,{onClick:W},{icon:p((()=>[m(g)])),default:p((()=>d[10]||(d[10]=[x("export")]))),_:1})),[[q,["selectclass:courseSchedule:export"]]])])),status:p((({record:e})=>[m(I,{value:e.status,dict:h(w)},null,8,["value","dict"])])),action:p((({record:e})=>[m(G,null,{default:p((()=>[f((y(),v(H,{title:"details",onClick:a=>(e=>{var a;null==(a=A.value)||a.onOpen(e.id)})(e)},{default:p((()=>d[11]||(d[11]=[x("details")]))),_:2},1032,["onClick"])),[[q,["selectclass:courseSchedule:detail"]]]),f((y(),v(H,{title:"modify",onClick:a=>(e=>{var a;null==(a=M.value)||a.onUpdate(e.id)})(e)},{default:p((()=>d[12]||(d[12]=[x("modify")]))),_:2},1032,["onClick"])),[[q,["selectclass:courseSchedule:update"]]]),f((y(),v(H,{status:"danger",disabled:e.disabled,title:e.disabled?"cannot delete":"delete",onClick:a=>(e=>U((()=>o(e.id)),{content:"are you sure to delete the course schedule?",showModal:!0}))(e)},{default:p((()=>d[13]||(d[13]=[x(" delete ")]))),_:2},1032,["disabled","title","onClick"])),[[q,["selectclass:courseSchedule:delete"]]])])),_:2},1024)])),_:1},8,["data","columns","loading","pagination","onRefresh"]),m(t,{ref_key:"CourseScheduleAddModalRef",ref:M,onSaveSuccess:h(N)},null,8,["onSaveSuccess"]),m(l,{ref_key:"CourseScheduleDetailDrawerRef",ref:A},null,512)])}}});export{w as default};
