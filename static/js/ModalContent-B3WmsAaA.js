import{d as a,r as e,p as l,B as s,c as o,w as t,P as u,G as i,ah as n,f as d,g as r,h as v,a as p,t as c,q as f,o as x,x as m}from"./index-BAyZi_co.js";import{b as g,h,i as y}from"./index-FaVgdj3V.js";const _={style:{padding:"10px 14px 14px 14px"}},C={class:"audio-name"},b=["src"],S=m(a({__name:"ModalContent",props:{data:{},onClose:{}},setup(a){const m=a,S=e(!1),k=e(null),w=e(null),I=l((()=>{var a;return(null==(a=m.data)?void 0:a.url)||""}));s((()=>{S.value=!0}));const{width:j,height:z}=g(),{width:A,height:D}=h(k),J=e({top:40,left:j.value-A.value}),N=JSON.parse(sessionStorage.getItem("AudioDialogXY"));N&&N.top&&N.left&&(J.value.top=N.top,J.value.left=N.left);const{x:O,y:R}=y(k,{initialValue:{x:J.value.left-A.value,y:J.value.top}}),X=l((()=>{let a=O.value,e=R.value;return O.value>j.value-A.value&&(a=j.value-A.value),O.value<0&&(a=0),R.value>z.value-D.value&&(e=z.value-D.value),R.value<0&&(e=0),sessionStorage.setItem("AudioDialogXY",JSON.stringify({top:e,left:a})),{left:`${a}px`,top:`${e}px`}})),Y=()=>{S.value=!1,m.onClose&&m.onClose()};return(a,e)=>{const l=p("icon-music"),s=p("icon-close");return x(),o(u,{name:"slide-dynamic-origin"},{default:t((()=>{var a,e;return[i(r("div",{ref_key:"audioRef",ref:k,class:"audio-box",style:f(d(X))},[r("section",_,[r("div",{ref_key:"audioHeadRef",ref:w,class:"audio-box__header"},[r("div",C,[v(l,{size:16,spin:""}),r("span",null,c(null==(a=m.data)?void 0:a.name)+"."+c(null==(e=m.data)?void 0:e.extension),1)]),r("div",{class:"close-icon",onClick:Y},[v(s,{size:12})])],512),r("audio",{class:"audio",src:d(I),controls:"",autoplay:""},null,8,b)])],4),[[n,d(S)]])]})),_:1})}}}),[["__scopeId","data-v-13e790bf"]]);export{S as default};
