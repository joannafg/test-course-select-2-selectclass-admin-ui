import{p as e}from"./style-CMZ46hYP.js";import{d as a,l as t,r as d,A as i,S as l,B as n,D as s,b as o,am as r,o as c,x as v}from"./index-BAyZi_co.js";const u=v(a({name:"AiEditor",__name:"index",props:{modelValue:{},options:{}},emits:["update:modelValue"],setup(a,{emit:v}){const u=a,m=v,p=t(),f=d(),h=d(null),y=e=>{const a=document.querySelector("#outline");for(;null==a?void 0:a.firstChild;)a.removeChild(a.firstChild);const t=e.getOutline();for(const d of t){const t=document.createElement("div");t.classList.add(`aie-title${d.level}`),t.style.marginLeft=14*(d.level-1)+"px",t.style.padding="4px 0",t.innerHTML=`<a href="#${d.id}">${d.text}</a>`,t.addEventListener("click",(a=>{a.preventDefault();e.innerEditor.view.dom.querySelector(`#${d.id}`).scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),setTimeout((()=>{e.focusPos(d.pos+d.size-1)}),1e3)})),null==a||a.appendChild(t)}},g=i({element:"",theme:p.theme,placeholder:"please enter the content",content:"",draggable:!1,onChange:e=>{m("update:modelValue",e.getHtml()),y(e)},onCreated:e=>{y(e)}});l((()=>u.modelValue),(a=>{var t,d;a!==(null==(t=h.value)?void 0:t.getHtml())&&(null==(d=h.value)||d.destroy(),g.content=a,h.value=new e(g))}));return n((()=>{g.element=f.value,h.value=new e(g)})),s((()=>{var e;null==(e=h.value)||e.destroy()})),(e,a)=>(c(),o("div",{ref_key:"divRef",ref:f,class:"container"},a[0]||(a[0]=[r('<div class="aie-container" data-v-d2ca238e><div class="aie-header-panel" data-v-d2ca238e><div class="aie-container-header" data-v-d2ca238e></div></div><div class="aie-main" data-v-d2ca238e><div class="aie-directory-content" data-v-d2ca238e><div class="aie-directory" data-v-d2ca238e><h5 data-v-d2ca238e>directory</h5><div id="outline" data-v-d2ca238e></div></div></div><div class="aie-container-panel" data-v-d2ca238e><div class="aie-container-main" data-v-d2ca238e></div></div></div><div class="aie-container-footer" data-v-d2ca238e></div></div>',1)]),512))}}),[["__scopeId","data-v-d2ca238e"]]);export{u as default};
