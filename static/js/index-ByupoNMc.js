import{_ as e}from"./index-HUsaxJdw.js";import{_ as t}from"./index-B7Sos0mo.js";import{_ as a}from"./GiCellStatus.vue_vue_type_script_setup_true_lang-27S6yIFO.js";import i from"./index-DCA5VA6W.js";import{_ as s}from"./DictItemAddModal.vue_vue_type_script_setup_true_lang-BHuis0F3.js";import{l,d}from"./dict-BKgVatZ-.js";import{d as o,A as r,Z as n,a1 as c,r as u,b as m,h as p,w as _,f as h,a as f,G as g,c as x,C as v,t as y,a0 as b,o as w,x as I}from"./index-BAyZi_co.js";import{u as j}from"./useTable-DUTUCT70.js";import{h as k}from"./has-CF2CDZHh.js";import"./DictAddModal.vue_vue_type_script_setup_true_lang-BJNiHYfC.js";import"./index-FaVgdj3V.js";import"./GiForm-BWZRNfN-.js";import"./index.vue_vue_type_script_setup_true_lang-Dekw0iDL.js";import"./useResetReactive-NMdkdCz2.js";import"./RightMenu-ylQe2XAf.js";import"./useBreakpoint-C2fvcUp5.js";const S={class:"gi_page"},C=I(o({name:"SystemDict",__name:"index",setup(o){const I=r({dictId:"",sort:["createTime,desc"]}),{tableData:C,loading:D,pagination:R,search:A,handleDelete:M}=j((e=>l({...I,...e})),{immediate:!1}),N=[{title:"sort",width:66,align:"center",render:({rowIndex:e})=>n("span",{},e+1+(R.current-1)*R.pageSize)},{title:"label",dataIndex:"label",slotName:"label",minWidth:100,align:"center"},{title:"value",dataIndex:"value",minWidth:100,align:"center",ellipsis:!0,tooltip:!0},{title:"status",dataIndex:"status",slotName:"status",align:"center"},{title:"排序",dataIndex:"sort",align:"center",sortable:{sortDirections:["ascend","descend"]}},{title:"description",dataIndex:"description",minWidth:130,ellipsis:!0,tooltip:!0},{title:"create user",dataIndex:"createUserString",width:140,ellipsis:!0,tooltip:!0,show:!1},{title:"create time",dataIndex:"createTime",width:180},{title:"update user",dataIndex:"updateUserString",width:140,ellipsis:!0,tooltip:!0,show:!1},{title:"update time",dataIndex:"updateTime",width:180,show:!1},{title:"action",dataIndex:"action",slotName:"action",width:130,align:"center",fixed:c()?void 0:"right",show:k.hasPermOr(["system:dict:item:update","system:dict:item:delete"])}],T=()=>{I.description=void 0,I.status=void 0,A()},U=e=>{I.dictId=1===e.length?e[0]:void 0,A()},W=u(),G=()=>{var e;null==(e=W.value)||e.onAdd(I.dictId)};return(l,o)=>{const r=f("a-input-search"),n=f("icon-refresh"),c=f("a-button"),u=f("icon-plus"),j=f("a-tag"),k=a,V=f("a-link"),q=f("a-space"),z=t,B=f("a-col"),F=f("a-row"),J=e,O=b("permission");return w(),m("div",S,[p(J,null,{left:_((()=>[p(i,{onNodeClick:U})])),main:_((()=>[p(F,{align:"stretch",gutter:14,class:"h-full page_content"},{default:_((()=>[p(B,{xs:24,sm:24,md:24,lg:24,xl:24,xxl:24,flex:"1",class:"h-full overflow-hidden"},{default:_((()=>[p(z,{"row-key":"id",data:h(C),columns:N,loading:h(D),scroll:{x:"100%",y:"100%",minWidth:600},pagination:h(R),"disabled-tools":["size"],"disabled-column-keys":["label"],onRefresh:h(A)},{"toolbar-left":_((()=>[p(r,{modelValue:h(I).description,"onUpdate:modelValue":o[0]||(o[0]=e=>h(I).description=e),placeholder:"search label/description","allow-clear":"",onSearch:h(A)},null,8,["modelValue","onSearch"]),p(c,{onClick:T},{icon:_((()=>[p(n)])),default:_((()=>o[1]||(o[1]=[v("reset")]))),_:1})])),"toolbar-right":_((()=>[g((w(),x(c,{type:"primary",onClick:G},{icon:_((()=>[p(u)])),default:_((()=>o[2]||(o[2]=[v("add")]))),_:1})),[[O,["system:dict:item:add"]]])])),label:_((({record:e})=>[p(j,{color:e.color},{default:_((()=>[v(y(e.label),1)])),_:2},1032,["color"])])),status:_((({record:e})=>[p(k,{status:e.status},null,8,["status"])])),action:_((({record:e})=>[p(q,null,{default:_((()=>[g((w(),x(V,{title:"modify",onClick:t=>(e=>{var t;null==(t=W.value)||t.onUpdate(e.id)})(e)},{default:_((()=>o[3]||(o[3]=[v("modify")]))),_:2},1032,["onClick"])),[[O,["system:dict:item:update"]]]),g((w(),x(V,{status:"danger",title:"delete",onClick:t=>(e=>M((()=>d(e.id)),{content:`are you sure to delete the dictionary「${e.label}」?`,showModal:!0}))(e)},{default:_((()=>o[4]||(o[4]=[v(" delete ")]))),_:2},1032,["onClick"])),[[O,["system:dict:item:delete"]]])])),_:2},1024)])),_:1},8,["data","loading","pagination","onRefresh"])])),_:1})])),_:1})])),_:1}),p(s,{ref_key:"DictItemAddModalRef",ref:W,onSaveSuccess:h(A)},null,8,["onSaveSuccess"])])}}}),[["__scopeId","data-v-24a03437"]]);export{C as default};
