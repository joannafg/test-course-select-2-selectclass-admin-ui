import{_ as e}from"./GiCellTag.vue_vue_type_script_setup_true_lang-BFrLDIrR.js";import{b as a}from"./index-FaVgdj3V.js";import{g as t}from"./role-C1QTvPIM.js";import{u as l}from"./useMenu-C8VM0Jot.js";import{u as r}from"./useDept-CXLwDhMr.js";import{d as i,r as s,c as n,w as u,f as d,J as o,a as c,h as p,e as v,C as m,t as f,o as _,x as b}from"./index-BAyZi_co.js";import{u as g}from"./useDict-ConFaTXJ.js";const h=b(i({__name:"RoleDetailDrawer",setup(i,{expose:b}){const{width:h}=a(),k=s(""),y=s(),w=s(!1),{data_scope_enum:x}=g("data_scope_enum"),{deptList:j,getDeptList:D}=r(),{menuList:I,getMenuList:L}=l();return b({onOpen:async e=>{k.value=e,I.value.length||await L(),j.value.length||await D(),await(async()=>{const{data:e}=await t(k.value);y.value=e})(),w.value=!0}}),(a,t)=>{const l=c("a-descriptions-item"),r=e,i=c("a-descriptions"),s=c("a-tree"),b=c("a-drawer");return _(),n(b,{visible:d(w),"onUpdate:visible":t[0]||(t[0]=e=>o(w)?w.value=e:null),title:"role detail",width:d(h)>=600?600:"100%",footer:!1},{default:u((()=>{var e;return[p(i,{title:"basic information",column:2,size:"large",class:"general-description"},{default:u((()=>[p(l,{label:"ID"},{default:u((()=>{var e;return[m(f(null==(e=d(y))?void 0:e.id),1)]})),_:1}),p(l,{label:"data permission"},{default:u((()=>{var e;return[p(r,{value:null==(e=d(y))?void 0:e.dataScope,dict:d(x)},null,8,["value","dict"])]})),_:1}),p(l,{label:"name"},{default:u((()=>{var e;return[m(f(null==(e=d(y))?void 0:e.name),1)]})),_:1}),p(l,{label:"code"},{default:u((()=>{var e;return[m(f(null==(e=d(y))?void 0:e.code),1)]})),_:1}),p(l,{label:"create user"},{default:u((()=>{var e;return[m(f(null==(e=d(y))?void 0:e.createUserString),1)]})),_:1}),p(l,{label:"create time"},{default:u((()=>{var e;return[m(f(null==(e=d(y))?void 0:e.createTime),1)]})),_:1}),p(l,{label:"update user"},{default:u((()=>{var e;return[m(f(null==(e=d(y))?void 0:e.updateUserString),1)]})),_:1}),p(l,{label:"update time"},{default:u((()=>{var e;return[m(f(null==(e=d(y))?void 0:e.updateTime),1)]})),_:1}),p(l,{label:"description",span:2},{default:u((()=>{var e;return[m(f(null==(e=d(y))?void 0:e.description),1)]})),_:1})])),_:1}),p(i,{title:"function permission",column:2,size:"large",class:"permission general-description",style:{"margin-top":"20px",position:"relative"}},{default:u((()=>[p(l,{span:2},{default:u((()=>{var e;return[p(s,{"checked-keys":null==(e=d(y))?void 0:e.menuIds,data:d(I),"default-expand-all":"","check-strictly":"",checkable:""},null,8,["checked-keys","data"])]})),_:1})])),_:1}),5===(null==(e=d(y))?void 0:e.dataScope)?(_(),n(i,{key:0,title:"data permission",column:2,size:"large",class:"general-description",style:{"margin-top":"20px",position:"relative"}},{default:u((()=>[p(l,{span:2},{default:u((()=>{var e;return[p(s,{"checked-keys":null==(e=d(y))?void 0:e.deptIds,data:d(j),"default-expand-all":"","check-strictly":"",checkable:""},null,8,["checked-keys","data"])]})),_:1})])),_:1})):v("",!0)]})),_:1},8,["visible","width"])}}}),[["__scopeId","data-v-7b798a3d"]]);export{h as default};
